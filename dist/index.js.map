{"version":3,"sources":["../src/AmazonAffiliateLink.ts"],"sourcesContent":["export class AmazonAffiliateLink {\r\n\r\n    public asin: string\r\n\r\n    public affiliateLink: string\r\n\r\n    constructor(\r\n        public productLink: string,\r\n        public trackingId: string\r\n    ) {\r\n        const url = new URL(productLink)\r\n        const asinMatch = productLink.match(/\\/dp\\/([A-Z0-9]{10})/i)\r\n\r\n        if (!asinMatch) {\r\n            throw new Error('Not a product link')\r\n        }\r\n\r\n        this.asin = asinMatch[1]\r\n        this.affiliateLink = `${url.origin}/dp/${this.asin}/?tag=${this.trackingId}`\r\n    }\r\n\r\n    get(): string {\r\n        return this.affiliateLink\r\n    }\r\n}"],"mappings":";AAAO,IAAM,sBAAN,MAA0B;AAAA,EAM7B,YACW,aACA,YACT;AAFS;AACA;AAEP,UAAM,MAAM,IAAI,IAAI,WAAW;AAC/B,UAAM,YAAY,YAAY,MAAM,uBAAuB;AAE3D,QAAI,CAAC,WAAW;AACZ,YAAM,IAAI,MAAM,oBAAoB;AAAA,IACxC;AAEA,SAAK,OAAO,UAAU,CAAC;AACvB,SAAK,gBAAgB,GAAG,IAAI,MAAM,OAAO,KAAK,IAAI,SAAS,KAAK,UAAU;AAAA,EAC9E;AAAA,EAjBO;AAAA,EAEA;AAAA,EAiBP,MAAc;AACV,WAAO,KAAK;AAAA,EAChB;AACJ;","names":[]}